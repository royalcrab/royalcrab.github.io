<!DOCTYPE html>
<head>
</head>
<body>
  <div id="display">
    <span id="blinking">â– </span>
    <span id="timecode"></span>
  </div>
  <br/>
  <audio id="media" src="https://bbled.org/kani/audio/01.mp3" controls>
  </audio>
  <br/>
  <div id="prameters">
      <label>offset(ms):</label>
      <input type="text" value="0" id="offset"/>
      <br/>
      <label>bpm:</label>
      <input type="text" value="118" id="bpm"/>
  </div>
  <div id="ui">
    <input type="button" value="play" onclick="audio_play()"/>
  </div>
  <br/>
<script>
const audio = document.getElementById('media');
const tc = document.getElementById('timecode');
const square = document.getElementById('blinking');

tc.textContent = 0;

audio.addEventListener('timeupdate', (event) => {
  tc.textContent = audio.currentTime;
  let ti = parseInt(audio.currentTime);
  if ( ti % 2 == 0 ){
    square.style.color = "red";
  }else{
    square.style.color = "black";
  }
});

function audio_play()
{
  audio.play();
}

</script>
</body>
</html>
