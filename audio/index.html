<!DOCTYPE html>
<head>
</head>
<body>
  <div id="display">
    <span id="blinking">■</span>
    <span id="timecode"></span>
    <br/>
    beat: <span id="beat">0</span>
    <br/>
    measure <span id="measure"></span>
    <br/>
  </div>
  <br/>
  <audio id="media1" src="https://bbled.org/kani/audio/01.mp3" controls>
    bpm: 118
  </audio>
  <audio id="media2" src="https://bbled.org/kani/audio/02.mp3" controls>
    bpm: 118
  </audio>
  <audio id="media3" src="https://bbled.org/kani/audio/03.mp3" controls>
    bpm: 126
  </audio>
  <audio id="media4" src="https://bbled.org/kani/audio/04.mp3" controls>
    bpm: 126
  </audio>
  <br/>
  <div id="prameters">
      <label>offset(ms):</label>
      <input type="text" value="0" id="offset"/>
      <br/>
      <label>bpm:</label>
      <input type="text" value="118" id="bpm"/>
  </div>
  <div id="ui">
    <div id="select_music">
      <input type="radio" name="music" value="1" checked/>
      <label> music 1 </label> /
      <input type="radio" name="music" value="2"/>
      <label> music 2 </label> /
      <input type="radio" name="music" value="3"/>
      <label> music 3 </label> /
      <input type="radio" name="music" value="4"/>
      <label> music 4 </label>
    </div>
    <br>
    <input type="button" value="play" onclick="audio_play()"/>
    <input type="button" value="pause"/>
    <input type="button" value="!＜"/>
    <input type="button" value="＞|"/>
  </div>
  <br/>
<script>
const audio = document.getElementById('media1');
const tc = document.getElementById('timecode');
const square = document.getElementById('blinking');

tc.textContent = 0;

audio.addEventListener('timeupdate', (event) => {
  tc.textContent = audio.currentTime;
  let ti = parseInt(audio.currentTime);
  if ( ti % 2 == 0 ){
    square.style.color = "red";
  }else{
    square.style.color = "black";
  }
});

function audio_play()
{
  audio.play();
}

</script>
</body>
</html>
